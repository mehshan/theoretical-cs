\documentclass[11pt]{article}

\input{Shared.tex}

\parindent0in
\pagestyle{plain}
\thispagestyle{plain}

\usepackage{csquotes}
\usepackage[shortlabels]{enumitem}

\newcommand{\dated}{\today}
\newcommand{\token}[1]{\langle \text{#1} \rangle}

\begin{document}

\textbf{Introduction to the Theory of
Computation}\hfill\textbf{\myname}\\[0.01in]
\textbf{Chapter 7: Time Complexity}\hfill\textbf{\dated}\\
\smallskip\hrule\bigskip

\begin{problem}{7.24}
Let
\[
CNF_k = \{\langle \phi \rangle \ | \ \phi \text{ is a satisfiable cnf-formula where each variable appears in at most } k \text{ places}\}.
\]
\end{problem}

\begin{problem}[Part]{a}
Show that $CNF_2 \in P$.
\end{problem}

\begin{proof}
We show that $CNF_2 \in P$ by presenting a polynomial time algorithm that decides $CNF_2$. A polynomial time algorithm $M$ for $CNF_2$ operates as follows. \\

$M =$ \textquotedblleft On input $\langle \phi \rangle$, $\phi$ is a cnf-formula where each variable appears in at most 2 places:
\begin{enumerate}
\item Construct $\phi'$ by rewriting $\phi$ as OR of ANDs using distributive laws.
\item If all conjunctions in $\phi'$ contain a contradiction, then \textit{reject}.
\item \textit{Accept}.\textquotedblright
\end{enumerate}
\end{proof}

Let $x_1, x_2, \cdots, x_l$ be the variables of $\phi$. The maximum number of clauses in $\phi$ can be at most $2l$. The distributive laws, as described in Chapter 0, state that we can replace an AND of ORs with an equivalent OR of ANDs. Doing so may significantly increase the size of each subformula, but it creates at most polynomial number of conjunctions.

\begin{problem}[Part]{b}
Show that $CNF_3$ is NP-complete.
\end{problem}

\begin{proof}
To show that $CNF_3$ is NP-complete, we must show that it is in NP and that all NP-problems are polynomial time reducible to it. The first part is easy; a certificate is simply a satisfying assignment. To prove the second part, we show that $3SAT$ is polynomial time reducible to $CNF_3$. The reduction converts a 3cnf-formula $\phi$ into a cnf-formula $\phi'$, where each variable appears in at most 3 places, so that $\phi$ is satisfiable, iff $\phi'$ is satisfiable. \\

We show that an equivalent cnf-formula $\phi'$ can be constructed for every 3cnf-formula $\phi$ in polynomial time. Such a $\phi'$ contains additional variables and clauses, so that no variable is used more than 3 times. The following methods can be used to reduce the number of times a variable is used, while retaining satisfiability.
\begin{enumerate}
\item Use identity of $\vee$\footnote{$p \vee p \equiv p$} to rewrite $(a \vee a \vee \cdots)$ as $(a \vee \cdots)$.
\item Use law of excluded middle\footnote{$p \vee \overline{p} \equiv true$} to rewrite $(a \vee \overline{a} \vee \cdots)$ as $(b \vee \overline{b} \vee \cdots)$, where $b$ is a single additional variable.
\item If a literal appears in more than one clause
\[
(a \vee \cdots) \wedge (a \vee \cdots) \wedge \cdots \wedge (a \vee \cdots),
\]
then rewrite the clauses as
\[
(a \vee \overline{z}) \wedge (z \vee \cdots) \wedge (z \vee \cdots) \wedge \cdots \wedge (z \vee \cdots),
\]
where $z$ is a new variable for each application of this method.
\end{enumerate}

Similarly, an equivalent 3cnf-formula $\phi$ can be construct for every cnf-formula $\phi'$.

\begin{enumerate}
\item In $\phi'$, replace any clause $c_i$ that contains more than 3 literals
\[
(a_i \vee b_i \vee c_i \vee d_i \vee \cdots),
\]
with the two clauses
\[
(a_i \vee b_i \vee \overline{z_i}) \wedge (z_i \vee c_i \vee d_i \vee \cdots),
\]
where $z_i$ is a new variable for each clause $c_i$. Repeatedly apply this method until all clauses contain at most 3 literals.
\item Rewrite $(a_i)$ as $(a_i \vee a_i \vee a_i)$.
\item Rewrite $(a_i \vee b_i)$ as $(a_i \vee a_i \vee b_i)$.
\end{enumerate}

\end{proof}

\end{document}